<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KnowLedge Quiz</title>

<style>
:root{
  --bg:#ffffff; --text:#000;
  --card:#f5f5f5; --border:#d1d5db;
  --btn:#e5e7eb; --accent:#3b82f6;
}
body.dark{
  --bg:#121212; --text:#f1f1f1;
  --card:#1e1e1e; --border:#2c2c2c;
  --btn:#2a2a2a; --accent:#60a5fa;
}

body{
  margin:0; padding:16px;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:var(--bg); color:var(--text);
  transition:background-color .3s ease,color .3s ease;
}

.container{ max-width:760px; margin:auto; }
h1{text-align:center}

button,select{
  padding:10px;
  border-radius:8px;
  border:1px solid var(--border);
  background:var(--btn);
  color:var(--text);
  transition:.3s;
}

.actions{
  display:flex;
  gap:10px;
  margin-bottom:12px;
}

#timer{font-weight:bold;margin:10px 0}

.question{
  background:var(--card);
  padding:16px;
  border-radius:12px;
}

#navigator{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-top:12px;
}

.nav{
  width:32px;height:32px;
  border-radius:6px;
}

.ok{background:#86efac}
.wrong{background:#fca5a5}
.cur{outline:2px solid var(--accent)}

footer{
  text-align:center;
  margin-top:30px;
  opacity:.7;
}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  align-items:center;
  justify-content:center;
  z-index:999;
}
.modal-box{
  background:var(--card);
  padding:20px;
  border-radius:12px;
  width:90%;
  max-width:360px;
}
</style>
</head>

<body>
<div class="container">

<div style="display:flex;justify-content:space-between">
  <div></div>
  <button onclick="toggleTheme()">ğŸŒ™ / â˜€ï¸</button>
</div>

<h1>ğŸ§  KnowLedge Quiz</h1>

<select id="subjectSelect"></select>

<div class="actions">
  <button id="startBtn">â–¶ Báº¯t Ä‘áº§u</button>
  <button onclick="openQuestionBank()">ğŸ“š NgÃ¢n hÃ ng cÃ¢u há»i</button>
</div>

<p id="timer">â° 50:00</p>

<div id="quiz"></div>
<div id="navigator"></div>
<div id="result"></div>

<footer>Â© 2026 Hoai Nam. All rights reserved.</footer>
</div>

<!-- MODAL -->
<div id="questionBankModal" class="modal">
  <div class="modal-box">
    <h3>ğŸ“š NgÃ¢n hÃ ng cÃ¢u há»i</h3>
    <button onclick="openUploader()">ğŸ“¤ Upload cÃ¢u há»i</button><br><br>
    <button onclick="openManualForm()">âœï¸ Nháº­p cÃ¢u há»i</button><br><br>
    <button onclick="closeQuestionBank()">âŒ ÄÃ³ng</button>
  </div>
</div>

<input type="file" id="fileInput" accept=".json" style="display:none" onchange="handleUpload(event)">

<script>
function toggleTheme(){
  document.body.classList.toggle("dark");
  localStorage.setItem("theme",
    document.body.classList.contains("dark")?"dark":"light");
}
if(localStorage.getItem("theme")==="dark")
  document.body.classList.add("dark");
</script>

<script src="questions.js"></script>
<script src="script.js"></script>
</body>
</html>
